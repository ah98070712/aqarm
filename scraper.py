import requests\nimport re\nimport datetime\n\ndef scrape_data(page_id):\n    url = f'https://aqarmap.com.eg/ar/listing/{page_id}-a/'\n    try:\n        response = requests.get(url)\n        if response.status_code == 200:\n            return response.text\n    except requests.RequestException as e:\n        print(f'Error fetching {url}:', e)\n    return ''\ndef extract_contacts(page_content):\n    phones = set(re.findall(r'\b\d{11}\b', page_content))\n    emails = set(re.findall(r'[a-zA-Z0-9.-]+@[a-zA-Z0-9.-]+', page_content))\n    return phones, emails\ndef save_results(phones, emails):\n    timestamp = datetime.datetime.now().strftime('%Y-%m-%d-%H-%M-%S')\n    with open(f'results/{timestamp}_phones.txt', 'w') as phone_file:\n        phone_file.write('\n'.join(sorted(phones)))\n    with open(f'results/{timestamp}_emails.txt', 'w') as email_file:\n        email_file.write('\n'.join(sorted(emails)))\n\nif __name__ == '__main__':\n    all_phones = set()\n    all_emails = set()\n    for i in range(1, 1001):\n        content = scrape_data(i)\n        if content:\n            phones, emails = extract_contacts(content)\n            all_phones.update(phones)\n            all_emails.update(emails)\n    save_results(all_phones, all_emails)\n
